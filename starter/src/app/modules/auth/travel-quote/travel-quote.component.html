<!-- Step 1: Plan Selection - Redesigned as Table -->
<div
  *ngIf="state.currentStep === QuoteStep.PLAN_SELECTION"
  class="flex min-h-full flex-col w-full px-4 py-8 sm:px-6 lg:px-8"
>
  <!-- Close Button -->
  <div class="mb-4 flex justify-end">
    <button
      type="button"
      (click)="returnToHomepage()"
      class="flex items-center space-x-2 rounded-lg bg-gray-100 px-4 py-2 text-gray-600 transition-colors hover:bg-gray-200 hover:text-gray-800"
      title="Close and return to homepage"
    >
      <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
      </svg>
      <span>Close</span>
    </button>
  </div>

  <div class="mb-12 text-center">
    <h2 class="mb-4 text-4xl font-bold text-gray-800">
      Choose Your <span class="text-sky-500">Travel Plan</span>
    </h2>
    <p class="text-xl text-gray-600">
      Select the coverage level that best fits your needs
    </p>
  </div>

  <!-- Benefits Note -->
  <div class="mb-6 rounded-lg bg-sky-50 p-4">
    <p class="text-center text-sky-700 font-medium">
      * All benefit amounts are in United States Dollars
    </p>
  </div>

  <!-- Plans Comparison Table -->
  <div class="flex flex-1 items-center justify-center">
    <div class="w-full max-w-6xl overflow-hidden rounded-2xl bg-white shadow-xl">
      
      <!-- Table Header -->
      <div class="bg-[#4338ca] text-white">
        <div class="grid grid-cols-4 gap-0">
          <div class="border-r border-indigo-300 p-6">
            <h3 class="text-lg font-bold">Benefit Name</h3>
          </div>
          <div class="border-r border-indigo-300 p-6 text-center">
            <h3 class="text-lg font-bold">Plan A</h3>
            <p class="text-sm text-indigo-100 mt-1">Basic Coverage</p>
          </div>
          <div class="border-r border-indigo-300 p-6 text-center">
            <h3 class="text-lg font-bold">Plan B</h3>
            <p class="text-sm text-indigo-100 mt-1">Enhanced Coverage</p>
          </div>
          <div class="p-6 text-center">
            <h3 class="text-lg font-bold">Plan C</h3>
            <p class="text-sm text-indigo-100 mt-1">Premium Coverage</p>
          </div>
        </div>
      </div>

      <!-- Table Body -->
      <div class="divide-y divide-gray-200">
        <!-- Personal Accident -->
        <div class="grid grid-cols-4 gap-0 hover:bg-gray-50">
          <div class="border-r border-gray-200 p-4">
            <span class="font-medium text-gray-800">Personal Accident</span>
          </div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">15,000</div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">20,000</div>
          <div class="p-4 text-center text-gray-700">25,000</div>
        </div>

        <!-- Emergency Medical Expenses & Evacuation -->
        <div class="grid grid-cols-4 gap-0 hover:bg-gray-50">
          <div class="border-r border-gray-200 p-4">
            <span class="font-medium text-gray-800">Emergency Medical Expenses & Evacuation</span>
          </div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">50,000</div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">100,000</div>
          <div class="p-4 text-center text-gray-700">200,000</div>
        </div>

        <!-- Repatriation of Mortal Remains -->
        <div class="grid grid-cols-4 gap-0 hover:bg-gray-50">
          <div class="border-r border-gray-200 p-4">
            <span class="font-medium text-gray-800">Repatriation of Mortal Remains</span>
          </div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">8,000</div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">10,000</div>
          <div class="p-4 text-center text-gray-700">12,500</div>
        </div>

        <!-- Emergency Dental Care -->
        <div class="grid grid-cols-4 gap-0 hover:bg-gray-50">
          <div class="border-r border-gray-200 p-4">
            <span class="font-medium text-gray-800">Emergency Dental Care</span>
          </div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">400</div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">600</div>
          <div class="p-4 text-center text-gray-700">750</div>
        </div>

        <!-- Hospital Benefits -->
        <div class="grid grid-cols-4 gap-0 hover:bg-gray-50">
          <div class="border-r border-gray-200 p-4">
            <span class="font-medium text-gray-800">Hospital Benefits</span>
          </div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">5 Accumulation 50</div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">15 Accumulation 150</div>
          <div class="p-4 text-center text-gray-700">25 Accumulation 250</div>
        </div>

        <!-- Delayed Baggage -->
        <div class="grid grid-cols-4 gap-0 hover:bg-gray-50">
          <div class="border-r border-gray-200 p-4">
            <span class="font-medium text-gray-800">Delayed Baggage</span>
          </div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">$30 per 12 hrs upto max $ 150</div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">$40 per 12 hrs upto max $ 300</div>
          <div class="p-4 text-center text-gray-700">$50 per 12 hrs upto max $ 400</div>
        </div>

        <!-- Loss of Checked Baggage & Personal Effects -->
        <div class="grid grid-cols-4 gap-0 hover:bg-gray-50">
          <div class="border-r border-gray-200 p-4">
            <span class="font-medium text-gray-800">Loss of Checked Baggage & Personal Effects</span>
          </div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">800</div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">1,000</div>
          <div class="p-4 text-center text-gray-700">1,000</div>
        </div>

        <!-- Personal Liability -->
        <div class="grid grid-cols-4 gap-0 hover:bg-gray-50">
          <div class="border-r border-gray-200 p-4">
            <span class="font-medium text-gray-800">Personal Liability</span>
          </div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">100,000</div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">150,000</div>
          <div class="p-4 text-center text-gray-700">150,000</div>
        </div>

        <!-- Hijack -->
        <div class="grid grid-cols-4 gap-0 hover:bg-gray-50">
          <div class="border-r border-gray-200 p-4">
            <span class="font-medium text-gray-800">Hijack</span>
          </div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">$50 per 24 hrs upto max $ 2,500</div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">$75 per 24 hrs upto max $ 5,000</div>
          <div class="p-4 text-center text-gray-700">$100 per 24 hrs upto max $ 7,500</div>
        </div>

        <!-- Loss of passport -->
        <div class="grid grid-cols-4 gap-0 hover:bg-gray-50">
          <div class="border-r border-gray-200 p-4">
            <span class="font-medium text-gray-800">Loss of passport</span>
          </div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">150</div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">150</div>
          <div class="p-4 text-center text-gray-700">150</div>
        </div>

        <!-- Cancellation and Curtailment -->
        <div class="grid grid-cols-4 gap-0 hover:bg-gray-50">
          <div class="border-r border-gray-200 p-4">
            <span class="font-medium text-gray-800">Cancellation and Curtailment</span>
          </div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">1,000</div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">1,500</div>
          <div class="p-4 text-center text-gray-700">1,500</div>
        </div>

        <!-- Travel Delay -->
        <div class="grid grid-cols-4 gap-0 hover:bg-gray-50">
          <div class="border-r border-gray-200 p-4">
            <span class="font-medium text-gray-800">Travel Delay</span>
          </div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">$30 per 12 hrs upto max $ 150</div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">$40 per 12 hrs upto max $ 200</div>
          <div class="p-4 text-center text-gray-700">$50 per 12 hrs upto max $ 200</div>
        </div>

        <!-- War, Political Violence and Terrorism -->
        <div class="grid grid-cols-4 gap-0 hover:bg-gray-50">
          <div class="border-r border-gray-200 p-4">
            <span class="font-medium text-gray-800">War, Political Violence and Terrorism</span>
          </div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">Covered at an extra premium of 25 percent of the Basic premiums</div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">Covered at an extra premium of 25 percent of the Basic premiums</div>
          <div class="p-4 text-center text-gray-700">Covered at an extra premium of 25 percent of the Basic premiums</div>
        </div>

        <!-- Covid Extension -->
        <div class="grid grid-cols-4 gap-0 hover:bg-gray-50">
          <div class="border-r border-gray-200 p-4">
            <span class="font-medium text-gray-800">Covid Extension</span>
          </div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">Covered at an extra premium of 20 percent of the Basic premiums</div>
          <div class="border-r border-gray-200 p-4 text-center text-gray-700">Covered at an extra premium of 20 percent of the Basic premiums</div>
          <div class="p-4 text-center text-gray-700">Covered at an extra premium of 20 percent of the Basic premiums</div>
        </div>

        <!-- Total Premiums Row -->
        <div class="grid grid-cols-4 gap-0 bg-gray-100 font-bold">
          <div class="border-r border-gray-300 p-4">
            <div class="text-center">
              <div class="font-bold text-gray-800">Total Premiums</div>
              <div class="text-sm text-gray-600">(1 USD = 129.03 KES)</div>
            </div>
          </div>
          <div class="border-r border-gray-300 p-4">
            <div class="text-center">
              <div class="text-2xl font-bold text-blue-600">18.00 USD / 2,322.54 KES</div>
              <button
                (click)="selectPlan('Plan A')"
                class="mt-3 w-full rounded-2xl bg-gradient-to-r from-sky-400 to-sky-500 px-4 py-2 font-bold text-white shadow-xl transition-all hover:from-sky-500 hover:to-sky-600 hover:shadow-2xl"
              >
                <span *ngIf="selectedPlan !== 'Plan A'">Select</span>
                <span *ngIf="selectedPlan === 'Plan A'">✓ Selected</span>
              </button>
            </div>
          </div>
          <div class="border-r border-gray-300 p-4">
            <div class="text-center">
              <div class="text-2xl font-bold text-purple-600">25.00 USD / 3,225.75 KES</div>
              <button
                (click)="selectPlan('Plan B')"
                class="mt-3 w-full rounded-2xl bg-gradient-to-r from-sky-400 to-sky-500 px-4 py-2 font-bold text-white shadow-xl transition-all hover:from-sky-500 hover:to-sky-600 hover:shadow-2xl"
              >
                <span *ngIf="selectedPlan !== 'Plan B'">Select</span>
                <span *ngIf="selectedPlan === 'Plan B'">✓ Selected</span>
              </button>
            </div>
          </div>
          <div class="p-4">
            <div class="text-center">
              <div class="text-2xl font-bold text-amber-600">35.00 USD / 4,516.05 KES</div>
              <button
                (click)="selectPlan('Plan C')"
                class="mt-3 w-full rounded-2xl bg-gradient-to-r from-sky-400 to-sky-500 px-4 py-2 font-bold text-white shadow-xl transition-all hover:from-sky-500 hover:to-sky-600 hover:shadow-2xl"
              >
                <span *ngIf="selectedPlan !== 'Plan C'">Select</span>
                <span *ngIf="selectedPlan === 'Plan C'">✓ Selected</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Add-on Coverage Options -->
  <div class="mt-8 rounded-lg bg-sky-50 p-6">
    <h4 class="mb-4 text-lg font-semibold text-sky-800">
      Tick checkboxes to include add-on coverages
    </h4>
    <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
      <div class="flex items-center space-x-3">
        <input
          type="checkbox"
          id="warTerrorism"
          [(ngModel)]="includeWarTerrorism"
          name="warTerrorism"
          class="h-4 w-4 rounded border-gray-300 text-sky-600 focus:ring-sky-500"
        />
        <label for="warTerrorism" class="text-sm font-medium text-gray-700">
          Include War and Terrorism Premium
        </label>
      </div>
      <div class="flex items-center space-x-3">
        <input
          type="checkbox"
          id="covidExtension"
          [(ngModel)]="includeCovidExtension"
          name="covidExtension"
          class="h-4 w-4 rounded border-gray-300 text-sky-600 focus:ring-sky-500"
        />
        <label for="covidExtension" class="text-sm font-medium text-gray-700">
          Include Covid Extension Premium
        </label>
      </div>
    </div>
  </div>

  <!-- Navigation -->
  <div class="mt-12 flex justify-between">
    <button
      type="button"
      (click)="goToPreviousStep()"
      class="rounded-lg px-8 py-3 font-semibold text-gray-600 transition-colors hover:bg-gray-100"
    >
      Back
    </button>
    <button
      type="button"
      (click)="goToNextStep()"
      [disabled]="!selectedPlan"
      class="rounded-2xl bg-gradient-to-r from-sky-400 to-sky-500 px-12 py-4 text-lg font-bold text-white shadow-xl transition-all hover:from-sky-500 hover:to-sky-600 hover:shadow-2xl disabled:cursor-not-allowed disabled:opacity-50"
    >
      CONTINUE WITH {{ selectedPlan || 'SELECTED PLAN' }}
      <svg
        class="ml-2 inline h-5 w-5"
        fill="currentColor"
        viewBox="0 0 20 20"
      >
        <path
          fill-rule="evenodd"
          d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z"
          clip-rule="evenodd"
        />
      </svg>
    </button>
  </div>
</div>

<!-- Step 2: Traveler Details -->
<div
  *ngIf="state.currentStep === QuoteStep.TRAVELER_DETAILS"
  class="flex min-h-full flex-col w-full px-4 py-8 sm:px-6 lg:px-8"
>
  <!-- Close Button -->
  <div class="mb-4 flex justify-end">
    <button
      type="button"
      (click)="returnToHomepage()"
      class="flex items-center space-x-2 rounded-lg bg-gray-100 px-4 py-2 text-gray-600 transition-colors hover:bg-gray-200 hover:text-gray-800"
      title="Close and return to homepage"
    >
      <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
      </svg>
      <span>Close</span>
    </button>
  </div>

  <div class="mb-12 text-center">
    <h2 class="mb-4 text-4xl font-bold text-gray-800">
      <span class="text-sky-500">Traveler</span> Details
    </h2>
    <p class="text-xl text-gray-600">
      Please provide your travel information to complete your quote
    </p>
  </div>

  <!-- Selected Plan Summary -->
  <div class="mb-8 rounded-lg bg-sky-50 p-6">
    <div class="flex items-center justify-between">
      <div>
        <h3 class="text-lg font-semibold text-sky-800">Selected Plan: {{ selectedPlan }}</h3>
        <p class="text-sm text-sky-600 mt-1">
          <span *ngIf="selectedPlan === 'Plan A'">Basic Coverage - 18.00 USD / 2,322.54 KES</span>
          <span *ngIf="selectedPlan === 'Plan B'">Enhanced Coverage - 25.00 USD / 3,225.75 KES</span>
          <span *ngIf="selectedPlan === 'Plan C'">Premium Coverage - 35.00 USD / 4,516.05 KES</span>
        </p>
      </div>
      <button
        type="button"
        (click)="goToPreviousStep()"
        class="text-sky-600 hover:text-sky-800 font-medium"
      >
        Change Plan
      </button>
    </div>
  </div>

  <!-- Traveler Details Form -->
  <div class="flex-1">
    <form class="space-y-8">
      <!-- Personal Information -->
      <div class="rounded-lg bg-white p-6 shadow-md">
        <h3 class="mb-6 text-xl font-semibold text-gray-800">Personal Information</h3>
        <div class="grid grid-cols-1 gap-6 md:grid-cols-2">
          <div>
            <label for="firstName" class="block text-sm font-medium text-gray-700 mb-2">
              First Name *
            </label>
            <input
              type="text"
              id="firstName"
              [(ngModel)]="travelerDetails.firstName"
              name="firstName"
              required
              class="w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-200"
              placeholder="Enter your first name"
            />
          </div>
          <div>
            <label for="lastName" class="block text-sm font-medium text-gray-700 mb-2">
              Last Name *
            </label>
            <input
              type="text"
              id="lastName"
              [(ngModel)]="travelerDetails.lastName"
              name="lastName"
              required
              class="w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-200"
              placeholder="Enter your last name"
            />
          </div>
          <div>
            <label for="email" class="block text-sm font-medium text-gray-700 mb-2">
              Email Address *
            </label>
            <input
              type="email"
              id="email"
              [(ngModel)]="travelerDetails.email"
              name="email"
              required
              class="w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-200"
              placeholder="Enter your email address"
            />
          </div>
          <div>
            <label for="phone" class="block text-sm font-medium text-gray-700 mb-2">
              Phone Number *
            </label>
            <input
              type="tel"
              id="phone"
              [(ngModel)]="travelerDetails.phone"
              name="phone"
              required
              class="w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-200"
              placeholder="Enter your phone number"
            />
          </div>
          <div>
            <label for="dateOfBirth" class="block text-sm font-medium text-gray-700 mb-2">
              Date of Birth *
            </label>
            <input
              type="date"
              id="dateOfBirth"
              [(ngModel)]="travelerDetails.dateOfBirth"
              name="dateOfBirth"
              required
              class="w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-200"
            />
          </div>
          <div>
            <label for="passportNumber" class="block text-sm font-medium text-gray-700 mb-2">
              Passport Number *
            </label>
            <input
              type="text"
              id="passportNumber"
              [(ngModel)]="travelerDetails.passportNumber"
              name="passportNumber"
              required
              class="w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-200"
              placeholder="Enter your passport number"
            />
          </div>
        </div>
      </div>

      <!-- Travel Information -->
      <div class="rounded-lg bg-white p-6 shadow-md">
        <h3 class="mb-6 text-xl font-semibold text-gray-800">Travel Information</h3>
        <div class="grid grid-cols-1 gap-6 md:grid-cols-2">
          <div class="destination-dropdown-container relative">
            <label for="destination" class="block text-sm font-medium text-gray-700 mb-2">
              Destination Country *
            </label>
            <input
              type="text"
              id="destination"
              [(ngModel)]="destinationSearch"
              (input)="filterDestinationCountries($event)"
              (focus)="showDestinationDropdown = true"
              name="destination"
              required
              class="w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-200"
              placeholder="Search and select destination country"
              autocomplete="off"
            />
            <div
              *ngIf="showDestinationDropdown && filteredDestinationCountries.length > 0"
              class="absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto"
            >
              <div
                *ngFor="let country of filteredDestinationCountries"
                (click)="selectDestinationCountry(country)"
                class="px-4 py-2 hover:bg-sky-50 hover:text-sky-700 cursor-pointer border-b border-gray-100 last:border-b-0"
              >
                {{ country }}
              </div>
            </div>
          </div>
          <div>
            <label for="travelPurpose" class="block text-sm font-medium text-gray-700 mb-2">
              Purpose of Travel *
            </label>
            <select
              id="travelPurpose"
              [(ngModel)]="travelerDetails.travelPurpose"
              name="travelPurpose"
              required
              class="w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-200"
            >
              <option value="">Select purpose</option>
              <option value="tourism">Tourism</option>
              <option value="business">Business</option>
              <option value="education">Education</option>
              <option value="medical">Medical</option>
              <option value="other">Other</option>
            </select>
          </div>
          <div>
            <label for="departureDate" class="block text-sm font-medium text-gray-700 mb-2">
              Departure Date *
            </label>
            <input
              type="date"
              id="departureDate"
              [(ngModel)]="travelerDetails.departureDate"
              name="departureDate"
              required
              class="w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-200"
            />
          </div>
          <div>
            <label for="returnDate" class="block text-sm font-medium text-gray-700 mb-2">
              Return Date *
            </label>
            <input
              type="date"
              id="returnDate"
              [(ngModel)]="travelerDetails.returnDate"
              name="returnDate"
              required
              class="w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-200"
            />
          </div>
        </div>
      </div>

      <!-- Emergency Contact -->
      <div class="rounded-lg bg-white p-6 shadow-md">
        <h3 class="mb-6 text-xl font-semibold text-gray-800">Emergency Contact</h3>
        <div class="grid grid-cols-1 gap-6 md:grid-cols-2">
          <div>
            <label for="emergencyName" class="block text-sm font-medium text-gray-700 mb-2">
              Contact Name *
            </label>
            <input
              type="text"
              id="emergencyName"
              [(ngModel)]="travelerDetails.emergencyContact.name"
              name="emergencyName"
              required
              class="w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-200"
              placeholder="Enter emergency contact name"
            />
          </div>
          <div>
            <label for="emergencyPhone" class="block text-sm font-medium text-gray-700 mb-2">
              Contact Phone *
            </label>
            <input
              type="tel"
              id="emergencyPhone"
              [(ngModel)]="travelerDetails.emergencyContact.phone"
              name="emergencyPhone"
              required
              class="w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-200"
              placeholder="Enter emergency contact phone"
            />
          </div>
          <div>
            <label for="relationship" class="block text-sm font-medium text-gray-700 mb-2">
              Relationship *
            </label>
            <select
              id="relationship"
              [(ngModel)]="travelerDetails.emergencyContact.relationship"
              name="relationship"
              required
              class="w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-200"
            >
              <option value="">Select relationship</option>
              <option value="spouse">Spouse</option>
              <option value="parent">Parent</option>
              <option value="child">Child</option>
              <option value="sibling">Sibling</option>
              <option value="friend">Friend</option>
              <option value="other">Other</option>
            </select>
          </div>
        </div>
      </div>
    </form>
  </div>

  <!-- Action Buttons -->
  <div class="mt-12 flex flex-col space-y-4 sm:flex-row sm:space-x-4 sm:space-y-0 sm:justify-between">
    <button
      type="button"
      (click)="goToPreviousStep()"
      class="rounded-lg px-8 py-3 font-semibold text-gray-600 transition-colors hover:bg-gray-100"
    >
      Back to Plan Selection
    </button>
    
    <div class="flex flex-col space-y-4 sm:flex-row sm:space-x-4 sm:space-y-0">
      <button
        type="button"
        (click)="downloadQuote()"
        class="rounded-2xl border-2 border-sky-500 bg-white px-8 py-3 font-bold text-sky-500 shadow-md transition-all hover:bg-sky-50 hover:shadow-lg"
      >
        Download Quote
      </button>
      <button
        type="button"
        (click)="proceedToPayment()"
        [disabled]="!isFormValid()"
        class="rounded-2xl bg-gradient-to-r from-sky-400 to-sky-500 px-12 py-4 text-lg font-bold text-white shadow-xl transition-all hover:from-sky-500 hover:to-sky-600 hover:shadow-2xl disabled:cursor-not-allowed disabled:opacity-50"
      >
        PROCEED TO PAYMENT
        <svg
          class="ml-2 inline h-5 w-5"
          fill="currentColor"
          viewBox="0 0 20 20"
        >
          <path
            fill-rule="evenodd"
            d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z"
            clip-rule="evenodd"
          />
        </svg>
      </button>
    </div>
  </div>
</div>