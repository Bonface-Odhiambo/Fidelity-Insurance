<div class="min-h-screen bg-gradient-to-br from-blue-400 via-blue-500 to-blue-600 
            flex items-center justify-center p-4 relative overflow-hidden w-full">
  
  <!-- Background decorative elements -->
  <div class="absolute inset-0 opacity-10">
    <div class="absolute top-20 left-10 w-32 h-32 bg-white rounded-full"></div>
    <div class="absolute bottom-20 right-10 w-24 h-24 bg-white rounded-full"></div>
    <div class="absolute top-1/2 left-1/4 w-16 h-16 bg-white rounded-full"></div>
  </div>

  <!-- Registration Form -->
  <div class="bg-white rounded-lg shadow-2xl p-8 w-full relative z-10 max-h-[90vh] overflow-y-auto">
    <h2 class="text-2xl font-semibold text-center text-red-600 mb-8">
      Customer Registration
    </h2>

    <!-- Alert -->
    @if (showAlert) {
        <fuse-alert
            class="mb-6"
            [appearance]="'outline'"
            [showIcon]="false"
            [type]="alert.type"
            [@shake]="alert.type === 'error'"
        >
            {{ alert.message }}
        </fuse-alert>
    }

    <form [formGroup]="registrationForm" (ngSubmit)="register()" 
          #registrationNgForm="ngForm" class="space-y-6">
      
      <!-- Registration Type -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-3">
          Register as
        </label>
        <mat-radio-group formControlName="registrationType" class="flex gap-6">
          <mat-radio-button value="client" color="warn">Client</mat-radio-button>
          <mat-radio-button value="agent" color="warn">Agent</mat-radio-button>
        </mat-radio-group>
      </div>

      <!-- Nationality and Country -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Nationality *</mat-label>
          <mat-select formControlName="nationality">
            <mat-option value="Kenya">Kenya</mat-option>
          </mat-select>
        </mat-form-field>
        
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Country of Residence</mat-label>
          <mat-select formControlName="countryOfResidence">
            <mat-option value="Kenya">Kenya</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <!-- ID Type Selection -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-3">
            ID Type
          </label>
          <mat-radio-group formControlName="idType" class="flex gap-6">
            <mat-radio-button value="passport" color="warn">Passport Number</mat-radio-button>
            <mat-radio-button value="kenyan_id" color="warn">Kenyan ID Number</mat-radio-button>
          </mat-radio-group>
        </div>
        
        <div>
          @if (registrationForm.get('idType')?.value === 'passport') {
            <mat-form-field appearance="outline" class="w-full">
              <mat-label>Passport Number *</mat-label>
              <input matInput formControlName="passportNumber">
              <mat-error>{{ getErrorMessage('passportNumber') }}</mat-error>
            </mat-form-field>
          }
          @if (registrationForm.get('idType')?.value === 'kenyan_id') {
            <mat-form-field appearance="outline" class="w-full">
              <mat-label>Kenyan ID Number *</mat-label>
              <input matInput formControlName="kenyanIdNumber">
              <mat-error>{{ getErrorMessage('kenyanIdNumber') }}</mat-error>
            </mat-form-field>
          }
        </div>
      </div>

      <!-- Name Fields -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>First Name *</mat-label>
          <input matInput formControlName="firstName">
          <mat-error>{{ getErrorMessage('firstName') }}</mat-error>
        </mat-form-field>
        
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Middle Name</mat-label>
          <input matInput formControlName="middleName">
        </mat-form-field>
        
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Last Name *</mat-label>
          <input matInput formControlName="lastName">
          <mat-error>{{ getErrorMessage('lastName') }}</mat-error>
        </mat-form-field>
      </div>

      <!-- Gender -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-3">
          Gender *
        </label>
        <mat-radio-group formControlName="gender" class="flex gap-6">
          <mat-radio-button value="male" color="warn">Male</mat-radio-button>
          <mat-radio-button value="female" color="warn">Female</mat-radio-button>
        </mat-radio-group>
        @if (registrationForm.get('gender')?.invalid && registrationForm.get('gender')?.touched) {
          <mat-error class="text-sm text-red-600 mt-1">Gender is required</mat-error>
        }
      </div>

      <!-- Contact Information -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Email *</mat-label>
          <input matInput type="email" formControlName="email">
          <mat-error>{{ getErrorMessage('email') }}</mat-error>
        </mat-form-field>
        
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Tel. Prefix</mat-label>
          <mat-select formControlName="telPrefix">
            <mat-option value="+254">+254 (Kenya)</mat-option>
          </mat-select>
        </mat-form-field>
        
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Telephone No. *</mat-label>
          <input matInput type="tel" formControlName="telephoneNo" placeholder="712345678">
          <mat-error>{{ getErrorMessage('telephoneNo') }}</mat-error>
        </mat-form-field>
      </div>

      <!-- Password Fields -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Password *</mat-label>
          <input matInput type="password" formControlName="password">
          <mat-error>{{ getErrorMessage('password') }}</mat-error>
        </mat-form-field>
        
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Password (Confirm) *</mat-label>
          <input matInput type="password" formControlName="confirmPassword">
          <mat-error>{{ getErrorMessage('confirmPassword') }}</mat-error>
        </mat-form-field>
      </div>

      <!-- Terms and Conditions -->
      <div class="flex items-center justify-center">
        <mat-checkbox formControlName="acceptTerms" color="warn">
          I read and accept 
          <a href="#" class="text-blue-600 hover:underline ml-1">
            terms and conditions
          </a>
        </mat-checkbox>
      </div>

      <!-- Submit Button -->
      <div class="flex flex-col items-center space-y-4">
        <button 
            type="submit" 
            mat-flat-button
            color="warn"
            [disabled]="registrationForm.disabled"
            class="w-full max-w-xs py-3 text-white font-semibold rounded-md 
                   transition duration-200 ease-in-out transform 
                   hover:scale-105 disabled:transform-none 
                   disabled:cursor-not-allowed">
          @if (!registrationForm.disabled) {
            <span>CREATE ACCOUNT</span>
          }
          @if (registrationForm.disabled) {
            <mat-progress-spinner
              [diameter]="20"
              [mode]="'indeterminate'"
              class="mr-2"
            ></mat-progress-spinner>
            <span>Creating Account...</span>
          }
        </button>
        
        <p class="text-sm text-gray-600">
          Already have an account? 
          <a [routerLink]="['/sign-in']" 
             class="text-blue-600 hover:underline font-medium">
            Log in
          </a>
        </p>
      </div>
    </form>
  </div>
</div>